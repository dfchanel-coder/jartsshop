<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Producto - JART'S SHOP</title>
    <link rel="stylesheet" href="style.css?v=4.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .prod-container { background: var(--card-bg); border-radius: 16px; padding: 40px; border: 1px solid var(--border); box-shadow: 0 15px 40px rgba(0,0,0,0.2); display: flex; gap: 50px; margin-top: 40px; margin-bottom: 50px; }
        @media(max-width: 768px) { .prod-container { flex-direction: column; padding: 20px; gap: 30px; } }
        .prod-img-box { width: 45%; max-width: 450px; background: rgba(0,0,0,0.2); border-radius: 12px; padding: 30px; border: 1px solid var(--border); display: flex; align-items: center; justify-content: center; }
        .prod-img-box img { width: 100%; object-fit: contain; filter: drop-shadow(0 15px 25px rgba(0,0,0,0.3)); }
        .prod-info { flex: 1; display: flex; flex-direction: column; justify-content: center; }
        .prod-title { font-size: 2.2rem; margin: 0 0 15px 0; color: var(--text); font-weight: 700; line-height: 1.2; }
        .prod-desc { color: var(--text-muted); font-size: 1.05rem; line-height: 1.6; margin-bottom: 25px; }
        .prod-price { font-size: 2.5rem; font-weight: 700; color: var(--accent); margin-bottom: 30px; }
        .resenas-box { margin-top: 50px; background: var(--card-bg); border-radius: 16px; padding: 30px; border: 1px solid var(--border); }
    </style>
</head>
<body id="producto-detalle">

    <header>
        <div class="logo" style="cursor:pointer;" onclick="window.location.href='/'">JART'S <span>SHOP</span></div>
        <a href="/" style="color:var(--text-muted); text-decoration:none; font-weight:600; transition:0.3s;" id="t-volver" onmouseover="this.style.color='var(--text)'" onmouseout="this.style.color='var(--text-muted)'"><i class="fa fa-arrow-left"></i> Volver a la Tienda</a>
        <div class="cart-icon" onclick="toggleCart()" style="position:relative;"><i class="fa fa-shopping-bag"></i><span id="cart-count">0</span></div>
    </header>

    <div class="container fade-in">
        <div class="prod-container">
            <div class="prod-img-box">
                <img id="p-img" src="" alt="Producto">
            </div>
            
            <div class="prod-info">
                <h1 id="p-nombre" class="prod-title">Cargando...</h1>
                <p id="p-desc" class="prod-desc">...</p>
                <div id="p-precio" class="prod-price">...</div>
                
                <div style="display:flex; gap:15px; margin-top: 10px;">
                    <button id="p-btn-add" class="btn-add" style="flex:1; padding:18px; font-size:1.1rem; border-radius:10px;"><i class="fa fa-shopping-cart"></i> Agregar al Carrito</button>
                    <a id="p-btn-wa" href="#" target="_blank" style="background:rgba(255,255,255,0.1); border:1px solid var(--border); color:var(--text); width:60px; height:60px; border-radius:10px; display:flex; justify-content:center; align-items:center; text-decoration:none; transition:0.3s; font-size:1.5rem;" title="Compartir" onmouseover="this.style.background='#25d366'; this.style.color='white'; this.style.borderColor='#25d366';" onmouseout="this.style.background='rgba(255,255,255,0.1)'; this.style.color='var(--text)'; this.style.borderColor='var(--border)';"><i class="fas fa-share-nodes"></i></a>
                </div>
            </div>
        </div>

        <div class="resenas-box fade-in">
            <h2 style="color:var(--text); border-bottom:1px solid var(--border); padding-bottom:15px; margin-top:0;">Opiniones de Clientes</h2>
            <div id="lista-resenas-prod"></div>
            
            <div style="margin-top: 30px; background:rgba(0,0,0,0.2); padding:20px; border-radius:12px; border:1px solid var(--border);">
                <h3 style="margin-top:0; color:var(--text);">Dejar reseña</h3>
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                    <input type="text" id="r-nombre" class="form-input" placeholder="Tu Nombre">
                    <select id="r-estrellas" class="form-input">
                        <option value="5">⭐⭐⭐⭐⭐ Excelente</option>
                        <option value="4">⭐⭐⭐⭐ Muy Bueno</option>
                        <option value="3">⭐⭐⭐ Bueno</option>
                    </select>
                </div>
                <input type="hidden" id="r-perfume-id">
                <textarea id="r-comentario" class="form-input" placeholder="¿Qué te pareció?" rows="3" style="margin-top:15px;"></textarea>
                <button class="btn-add" onclick="enviarResena()" style="background:#10b981; width:auto; padding:12px 30px; margin-top:10px;">Publicar</button>
            </div>
        </div>
    </div>

    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="toggleCart()">&times;</span>
            <h2 style="margin-top:0; color:var(--text);" data-es="Tu Carrito" data-pt="Seu Carrinho">Tu Carrito</h2>
            <div id="cart-items" style="margin-bottom:20px; max-height: 50vh; overflow-y: auto;"></div>
            <h3 style="text-align:right; border-top:2px solid var(--border); padding-top:15px; font-size:1.5rem; color:var(--text);"><span data-es="Total:" data-pt="Total:">Total:</span> <span id="cart-total">0</span></h3>
            <button id="btn-ir-pagar" class="btn-add" onclick="irAlCheckout()" style="margin-top:20px; font-size:1.2rem; padding:16px; background:var(--accent);"><span data-es="Iniciar Compra Segura" data-pt="Finalizar Compra">Iniciar Compra Segura</span> <i class="fa fa-lock"></i></button>
            <button class="btn-add" onclick="toggleCart()" style="background:rgba(255,255,255,0.1); color:var(--text); border: 1px solid var(--border); margin-top:10px;" data-es="Seguir Comprando" data-pt="Continuar Comprando">Seguir Comprando</button>
        </div>
    </div>

    <script src="app.js?v=4.0"></script>
</body>
</html>